<html>

  <head>
    <title>
      matlab_graphics
    </title>
  </head>

  <body bgcolor="#EEEEEE" link="#CC0000" alink="#FF3300" vlink="#000055">

    <h1 align = "center">
      matlab_graphics
    </h1>

    <hr>

    <p>
      <b>matlab_graphics</b>,
      a MATLAB code which
      illustrates how to achieve graphics effects.
    </p>

    <p>
      I love MATLAB, I really do, but if the default behavior of MATLAB's
      graphic system doesn't work for you, it can be difficult
      to discover a technique for getting what you want - moreover,
      there rarely seems to be a sensible logical structure to explain
      what is going on, nor a systematic procedure for building an image.
    </p>

    <h3 align = "center">
      Licensing:
    </h3>

    <p>
      The computer code and data files made available on this web page
      are distributed under
      <a href = "https://www.gnu.org/licenses/lgpl-3.0.en.html">the GNU LGPL license.</a>
    </p>

    <h3 align = "center">
      Languages:
    </h3>

    <p>
      <b>matlab_graphics</b> is available in
      <a href = "../../m_src/matlab_graphics/matlab_graphics.html">a MATLAB version.</a>
    </p>

    <h3 align = "center">
      Related Data and Programs:
    </h3>

    <p>
      <a href = "../../m_src/area_under_curve/area_under_curve.html">
      area_under_curve</a>,
      a MATLAB code which
      displays the area under a curve, that is, the points (x,y)
      between the X axis and the curve Y=F(X).
    </p>

    <p>
      <a href = "../../m_src/ball_and_stick_display/ball_and_stick_display.html">
      ball_and_stick_display</a>,
      a MATLAB code which
      demonstrates the creation of a 3D ball and stick image;
    </p>

    <p>
      <a href = "../../m_src/bezier_surface_display/bezier_surface_display.html">
      bezier_surface_display</a>,
      a MATLAB code which
      displays a Bezier surface;
    </p>

    <p>
      <a href = "../../m_src/box_display/box_display.html">
      box_display</a>,
      a MATLAB code which
      displays a box plot, over integer pairs of data, of a function
      defined by two formulas.
    </p>

    <p>
      <a href = "../../m_src/cavity_flow_display/cavity_flow_display.html">
      cavity_flow_display</a>,
      a MATLAB code which
      displays a single velocity field solution for the driven cavity;
    </p>

    <p>
      <a href = "../../m_src/cc_display/cc_display.html">
      cc_display</a>,
      a MATLAB code which
      displays the points used in a 2D Clenshaw-Curtis quadrature rule;
    </p>

    <p>
      <a href = "../../m_src/circles/circles.html">
      circles</a>,
      a MATLAB code which
      can be used, when creating graphics, to draw one or more circles,
      while controlling the center locations, radii, colors, edge
      colors, and transparency, by Chad Greene.
    </p>

    <p>
      <a href = "../../m_src/fd1d_display/fd1d_display.html">
      fd1d_display</a>,
      a MATLAB code which
      reads a pair of files defining a 1D finite difference model, 
      and plots the data.
    </p>

    <p>
      <a href = "../../m_src/fem_basis_q4_display/fem_basis_q4_display.html">
      fem_basis_q4_display</a>,
      a MATLAB code which
      displays a finite element method (FEM) basis function 
      associated with a linear quadrilateral (Q4) mesh.
    </p>

    <p>
      <a href = "../../m_src/fem_basis_t3_display/fem_basis_t3_display.html">
      fem_basis_t3_display</a>,
      a MATLAB code which
      displays a finite element method (FEM) basis function 
      associated with a 3-node triangle (T3) mesh.
    </p>

    <p>
      <a href = "../../m_src/fem_basis_t4_display/fem_basis_t4_display.html">
      fem_basis_t4_display</a>,
      a MATLAB code which
      displays a finite element method (FEM) basis function 
      associated with a 4-node triangle (T4) mesh.
    </p>

    <p>
      <a href = "../../m_src/fem_basis_t6_display/fem_basis_t6_display.html">
      fem_basis_t6_display</a>,
      a MATLAB code which
      displays a finite element method (FEM) basis function 
      associated with a 6-node triangle (T6) mesh.
    </p>

    <p>
      <a href = "../../m_src/fem1d_display/fem1d_display.html">
      fem1d_display</a>,
      a MATLAB code which
      reads three files defining a 1D arbitrary degree finite element function,
      and displays a plot.
    </p>

    <p>
      <a href = "../../m_src/fem1d_function_10_display/fem1d_function_10_display.html">
      fem1d_function_10_display</a>,
      a MATLAB code which
      reads three files defining a 1D piecewise linear finite element function
      and displays a plot.
    </p>

    <p>
      <a href = "../../m_src/gl_display/gl_display.html">
      gl_display</a>,
      a MATLAB code which
      displays the points used in a 2D Gauss-Legendre quadrature rule;
    </p>

    <p>
      <a href = "../../m_src/gray_code_display/gray_code_display.html">
      gray_code_display</a>,
      a MATLAB code which
      computes the Hamming distance tables for both the binary and Gray codes,
      and displays 3D plots that illustrate how the Gray code does a better job
      of providing nearby representations for nearby numbers.
    </p>

    <p>
      <a href = "../../m_src/grf_display/grf_display.html">
      grf_display</a>,
      a MATLAB code which
      reads a GRF file defining a mathematical graph and
      displays it in the MATLAB graphics window.
    </p>

    <p>
      <a href = "../../m_src/grid_display/grid_display.html">
      grid_display</a>,
      a MATLAB code which
      reads a file of points on a grid or sparse grid, displays the grid and
      saves the image in a Portable Network Graphics (PNG) file;
    </p>

    <p>
      <a href = "../../m_src/grids_display/grids_display.html">
      grids_display</a>,
      a MATLAB code which
      reads two files of grids or sparse grids, displays the first with
      hollow blue dots, the second with red dots.
    </p>

    <p>
      <a href = "../../m_src/hermite_product_display/hermite_product_display.html">
      hermite_product_display</a>,
      a MATLAB code which
      displays an image of a function created by the Cartesian product of two
      Hermite polynomials, such as f(x,y) = h(3,x) * h(1,y).
    </p>

    <p>
      <a href = "../../m_src/histogram_display/histogram_display.html">
      histogram_display</a>,
      a MATLAB code which
      makes a bar plot of a set of data stored
      as columns in a file; the first column is the X values, and
      all the other columns are Y values to be shown as a stack of bars;
     </p>

    <p>
      <a href = "../../m_src/lagrange_basis_display/lagrange_basis_display.html">
      lagrange_basis_display</a>,
      a MATLAB code which
      displays the basis functions associated with a given set of nodes used
      with the Lagrange interpolation scheme.
    </p>

    <p>
      <a href = "../../m_src/mesh_display/mesh_display.html">
      mesh_display</a>,
      a MATLAB code which
      reads data defining a polygonal mesh and displays it, with optional
      numbering.
    </p>

    <p>
      <a href = "../../m_src/nested_sequence_display/nested_sequence_display.html">
      nested_sequence_display</a>,
      a MATLAB code which
      displays a set of nested sequences.
    </p>

    <p>
      <a href = "../../m_src/obj_display/obj_display.html">
      obj_display</a>,
      a MATLAB code which
      reads an OBJ 3D graphics file and displays it on the screen.
    </p>

    <p>
      <a href = "../../m_src/polygonal_surface_display/polygonal_surface_display.html">
      polygonal_surface_display</a>,
      a MATLAB code which
      displays a surface in 3D described as a set of polygons;
    </p>

    <p>
      <a href = "../../m_src/quad_mesh_order1_display/quad_mesh_order1_display.html">
      quad_mesh_order1_display</a>,
      a MATLAB code which
      plots piecewise constant data associated with a mesh of quadrilaterals;
    </p>

    <p>
      <a href = "../../m_src/quad_surface_display/quad_surface_display.html">
      quad_surface_display</a>,
      a MATLAB code which
      plots piecewise bilinear data associated with a QUAD_SURFACE, that is,
      a 3D surface defined by a quadrilateral mesh;
    </p>

    <p>
      <a href = "../../m_src/sequence_streak_display/sequence_streak_display.html">
      sequence_streak_display</a>,
      a MATLAB code which
      displays a streak plot of a numeric sequence;
    </p>

    <p>
      <a href = "../../m_src/shallow_water_1d_display/shallow_water_1d_display.html">
      shallow_water_1d_display</a>, 
      a MATLAB code which 
      can display a solution of the shallow water equations in 1D, 
      generally as computed by the program shallow_water_1d.
    </p>

    <p>
      <a href = "../../m_src/sphere_lebedev_rule_display/sphere_lebedev_rule_display.html">
      sphere_lebedev_rule_display</a>,
      a MATLAB code which
      reads a file defining a Lebedev quadrature rule for the unit sphere and
      displays the point locations.
    </p>

    <p>
      <a href = "../../m_src/sphere_stereograph_display/sphere_stereograph_display.html">
      sphere_stereograph_display</a>,
      a MATLAB code which
      computes and displays the results of several stereographic projections
      between a sphere and a plane.
    </p>

    <p>
      <a href = "../../m_src/stla_display/stla_display.html">
      stla_display</a>,
      a MATLAB code which
      reads an ASCII stereolithography (STL) file and displays it on the screen.
    </p>

    <p>
      <a href = "../../m_src/tensor_grid_display/tensor_grid_display.html">
      tensor_grid_display</a>,
      a MATLAB code which
      can display the grid points of a tensor product rule used for
      interpolation or quadrature, in 1D, 2D or 3D.
    </p>

    <p>
      <a href = "../../m_src/tet_mesh_display/tet_mesh_display.html">
      tet_mesh_display</a>,
      a MATLAB code which
      reads in the node and element files defining a tet mesh
      and displays a wireframe image.
    </p>

    <p>
      <a href = "../../m_src/tetrahedron_slice_display/tetrahedron_slice_display.html">
      tetrahedron_slice_display</a>,
      a MATLAB code which
      determines the intersection between a tetrahedron and a plane and
      displays the result.
    </p>

    <p>
      <a href = "../../m_src/tri_surface_display/tri_surface_display.html">
      tri_surface_display</a>,
      a MATLAB code which
      displays the 3D graphics information
      in a TRI_SURFACE file;
    </p>

    <p>
      <a href = "../../m_src/triangle_display/triangle_display.html">
      triangle_display</a>,
      a MATLAB code which
      displays the nodes and elements of a triangulation
      on the MATLAB graphics screen, assuming the data has been
      stored in NODE and ELE files by the TRIANGLE program.
    </p>

    <p>
      <a href = "../../m_src/triangulation_display/triangulation_display.html">
      triangulation_display</a>,
      a MATLAB code which
      displays the nodes and elements of a triangulation 
      on the MATLAB graphics screen;
    </p>

    <p>
      <a href = "../../m_src/triangulation_order1_display/triangulation_order1_display.html">
      triangulation_order1_display</a>,
      a MATLAB code which
      plots piecewise constant data associated with a triangulation;
    </p>

    <h3 align = "center">
      Source Code:
    </h3>

    <p>
      You plot a circle, and it comes out an ellipse.  What is going on?
      Briefly, MATLAB uses a rectangle to display your plot.  It takes
      the X and Y ranges of your data, and stretches them along the horizontal
      and vertical directions of the rectangle.  This guarantees that a
      plot that is logically square will be displayed as a rectangle, 
      and thus a circle becomes an ellipse.  Luckily, the "axis equal"
      command helps.  MATLAB still plots inside a rectangle, but now
      it stretches your X and Y data by the same single scale factor,
      resulting in some new white space to the left and right of your
      plot of a perfect circle.
      <ul>
        <li>
          <a href = "circle_test.m">circle_test.m</a>,
          a program that plots a circle twice, the second time using
          the "axis square" command.
        </li>
        <li>
          <a href = "circle_test01.png">circle_test01.png</a>,
          the first circle (which looks like an ellipse).
        </li>
        <li>
          <a href = "circle_test02.png">circle_test02.png</a>,
          the second version of the circle, which looks OK.
        </li>
      </ul>
    </p>

    <p>
      Surprisingly, a typical MATLAB plot can involve a lot of empty
      space.  In the simple case where you are plotting a circle, you
      will get white space in the grid region itself if you enforce
      equal axis units, since MATLAB wants to display the grid within
      a rectangle.  But you will also get a substantial margin of white
      space around the plot area itself.  This can be annoying when you
      are trying to prepare graphics for use in a publication, or
      if you want to put several images side by side - the white space,
      which contains no information, eats up lots of space.
    </p>

    <p>
      Can you cut back that white space?  In particular, if you want to
      plot a circle (or anything else whose shape doesn't correspond to
      MATLAB's "golden rectangle"), can you make an image that is
      mathematically correct, and economic in terms of wasted white space?
    </p>

    <p>
      You may try various combinations of "axis equal", "axis square",
      "axis tight", "axis ( [0,1,0,1] )" and so on, all the time coming
      halfway to your goal, without ever actually achieving an image 
      that is square (or whatever aspect ratio you want), doesn't have 
      wasted graph space, and doesn't have that excessive margin around 
      the plot.
    </p>

    <p>
      After wasting a lot of time, I stumbled across a few commands that,
      used together, seem to achieve the correct result.  However, in my
      case, the image still looks rectangular in the MATLAB interactive
      viewer - but comes out nice and square in the PNG image rendered 
      by the PRINT command.
      <ul>
        <li>
          <a href = "trim_test.m">trim_test.m</a>,
          a program that plots a circle twice, the second time 
          with the "fat" trimmed off.
        </li>
        <li>
          <a href = "trim_test01.png">trim_test01.png</a>,
          the first version of the circle.
        </li>
        <li>
          <a href = "trim_test02.png">trim_test02.png</a>,
          the second version of the circle.
        </li>
      </ul>
    </p>

    <hr>

    <i>
      Last revised on 30 May 2013.
    </i>

    <!-- John Burkardt -->

  </body>

</html>
